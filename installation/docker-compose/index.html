
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Islandora 8">
      
      
      
      
      
        
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.6+insiders-2.9.1">
    
    
      
        <title>Docker Compose (ISLE-DC) - Islandora 8</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.92048cb8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.73e53a79.min.css">
        
          
          
          <meta name="theme-color" content="#ef5552">
        
      
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/custom.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="red" data-md-color-accent="red">
  
    
    <script>function __scope(t,e="../.."){return new URL(e,location).pathname+"."+t}function __get(t,e=localStorage,n){return JSON.parse(e.getItem(__scope(t,n)))}function __set(t,e,n=localStorage,o){try{n.setItem(__scope(t,o),JSON.stringify(e))}catch(t){}}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#install-islandora-on-docker-isle" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Islandora 8" class="md-header__button md-logo" aria-label="Islandora 8" data-md-component="logo">
      
  <img src="../../assets/claw.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Islandora 8
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Docker Compose (ISLE-DC)
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/Islandora/documentation/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Islandora 8" class="md-nav__button md-logo" aria-label="Islandora 8" data-md-component="logo">
      
  <img src="../../assets/claw.png" alt="logo">

    </a>
    Islandora 8
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/Islandora/documentation/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Concepts" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/collection/" class="md-nav__link">
        Collections
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/access-control/" class="md-nav__link">
        Access Control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/accessibility/" class="md-nav__link">
        Accessibility
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../component_overview/" class="md-nav__link">
        Component Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/objects_to_resource_nodes/" class="md-nav__link">
        Modelling content in Islandora 8 vs. 7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/islandora_defaults_reference/" class="md-nav__link">
        Islandora Defaults
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Docker Compose (ISLE-DC)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Docker Compose (ISLE-DC)
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-isle" class="md-nav__link">
    What is ISLE?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-use-docker" class="md-nav__link">
    Why use Docker?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where-is-isle-8" class="md-nav__link">
    Where is ISLE 8?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-install-isle" class="md-nav__link">
    How do I install ISLE?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-docker" class="md-nav__link">
    Installing Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#launching-islandora-with-docker" class="md-nav__link">
    Launching Islandora with Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visiting-your-islandora-site" class="md-nav__link">
    Visiting your Islandora site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spinning-down-your-islandora-site" class="md-nav__link">
    Spinning down your Islandora site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#editing-code-in-docker" class="md-nav__link">
    Editing Code in Docker
  </a>
  
    <nav class="md-nav" aria-label="Editing Code in Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testing-a-pull-request" class="md-nav__link">
    Testing a Pull Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-isle" class="md-nav__link">
    Updating ISLE
  </a>
  
    <nav class="md-nav" aria-label="Updating ISLE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drupal-updates" class="md-nav__link">
    Drupal Updates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-updates-non-islandora" class="md-nav__link">
    Module Updates (non-Islandora)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-updates-islandora" class="md-nav__link">
    Module Updates (Islandora)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-providers-solr-mariadb-etc" class="md-nav__link">
    Backend Providers (solr, mariadb, etc)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-the-whole-isle-dc-repo" class="md-nav__link">
    Updating the whole isle-dc repo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../playbook/" class="md-nav__link">
        Ansible Playbook
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Manual Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Manual Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Manual Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual/preparing_a_webserver/" class="md-nav__link">
        Preparing a LAPP Webserver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual/installing_composer_drush_and_drupal/" class="md-nav__link">
        Installing Composer, Drush, and Drupal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual/installing_tomcat_and_cantaloupe/" class="md-nav__link">
        Installing Tomcat and Cantaloupe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual/installing_fedora_syn_and_blazegraph/" class="md-nav__link">
        Installing Fedora, Syn, and Blazegraph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual/installing_solr/" class="md-nav__link">
        Installing Solr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual/installing_crayfish/" class="md-nav__link">
        Installing Crayfish
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual/installing_karaf_and_alpaca/" class="md-nav__link">
        Installing Karaf and Alpaca
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manual/configuring_drupal/" class="md-nav__link">
        Configuring Drupal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/install-enable-drupal-modules/" class="md-nav__link">
        Installing Modules
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/create-a-resource-node/" class="md-nav__link">
        Create a Resource Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/how-to-create-collection/" class="md-nav__link">
        Create a Collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/blocks/" class="md-nav__link">
        Configure Blocks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/create_update_views/" class="md-nav__link">
        Create or Update a View
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/video-docs/" class="md-nav__link">
        Video Documentation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/user-intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/intro-to-ld-for-islandora-8/" class="md-nav__link">
        Intro to Linked Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Content in Islandora 8
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Content in Islandora 8" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Content in Islandora 8
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/resource-nodes/" class="md-nav__link">
        Resource Nodes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/media/" class="md-nav__link">
        Media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/paged-content/" class="md-nav__link">
        Paged Content
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_5">
          Configuring Islandora
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuring Islandora" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Configuring Islandora
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/content_types/" class="md-nav__link">
        Modify or Create a Content Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/searching/" class="md-nav__link">
        Configure Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/context/" class="md-nav__link">
        Configure Context
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/multilingual/" class="md-nav__link">
        Multilingual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/extending/" class="md-nav__link">
        Extending Islandora
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/file_viewers/" class="md-nav__link">
        Viewers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/iiif/" class="md-nav__link">
        IIIF
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/oai/" class="md-nav__link">
        OAI-PMH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../islandora/rdf-mapping/" class="md-nav__link">
        RDF Generation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../islandora/drupal-bundle-configurations/" class="md-nav__link">
        Drupal Bundle Configurations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/flysystem/" class="md-nav__link">
        Flysystem
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_6" type="checkbox" id="__nav_5_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_6">
          Operating an Islandora Repository
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operating an Islandora Repository" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_6">
          <span class="md-nav__icon md-icon"></span>
          Operating an Islandora Repository
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/users/" class="md-nav__link">
        Create and Manage User Accounts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/usage-stats/" class="md-nav__link">
        Usage Stats
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          System Administrator Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="System Administrator Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          System Administrator Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/updating_drupal/" class="md-nav__link">
        Updating Drupal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/uploading-large-files/" class="md-nav__link">
        Uploading large files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/jwt/" class="md-nav__link">
        JWT Authentication
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Documentation for Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation for Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Documentation for Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/diagram/" class="md-nav__link">
        Architecture Diagram
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          REST Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="REST Documentation" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          REST Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/using-rest-endpoints/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/rest-get/" class="md-nav__link">
        GET
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/rest-create/" class="md-nav__link">
        POST/PUT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/rest-patch/" class="md-nav__link">
        PATCH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/rest-delete/" class="md-nav__link">
        DELETE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/rest-signposting/" class="md-nav__link">
        Signposting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_3">
          Tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tests" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Tests
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/running-automated-tests/" class="md-nav__link">
        Running Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/testing-notes/" class="md-nav__link">
        Testing Notes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/drupal-project/" class="md-nav__link">
        Updating drupal-project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/versioning/" class="md-nav__link">
        Versioning Policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/adding_format_jsonld/" class="md-nav__link">
        Adding back ?_format=jsonld
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/ppa-documentation/" class="md-nav__link">
        Updating a `deb` and adding it to Lyrasis PPA
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_8" type="checkbox" id="__nav_7_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_8">
          Alpaca
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Alpaca" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_8">
          <span class="md-nav__icon md-icon"></span>
          Alpaca
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../alpaca/alpaca-technical-stack/" class="md-nav__link">
        Alpaca Technical Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/alpaca_tips/" class="md-nav__link">
        Alpaca Tips
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Migration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Migration" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Migration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/migration-overview/" class="md-nav__link">
        Migration Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/migrate-csv/" class="md-nav__link">
        CSV
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/migrate-7x/" class="md-nav__link">
        Islandora 7
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contributing" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/CONTRIBUTING/" class="md-nav__link">
        How to contribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/resizing_vm/" class="md-nav__link">
        Resizing a VM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/checking-coding-standards/" class="md-nav__link">
        Checking Coding Standards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/contributing-workflow/" class="md-nav__link">
        Contributing Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/create_issues/" class="md-nav__link">
        Creating GitHub Issues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/editing-docs/" class="md-nav__link">
        Editing Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../technical-documentation/docs-build/" class="md-nav__link">
        How to Build Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/docs_style_guide/" class="md-nav__link">
        Documentation Style Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/committers/" class="md-nav__link">
        Committers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../user-documentation/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-isle" class="md-nav__link">
    What is ISLE?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-use-docker" class="md-nav__link">
    Why use Docker?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where-is-isle-8" class="md-nav__link">
    Where is ISLE 8?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-i-install-isle" class="md-nav__link">
    How do I install ISLE?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-docker" class="md-nav__link">
    Installing Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#launching-islandora-with-docker" class="md-nav__link">
    Launching Islandora with Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visiting-your-islandora-site" class="md-nav__link">
    Visiting your Islandora site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spinning-down-your-islandora-site" class="md-nav__link">
    Spinning down your Islandora site
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#editing-code-in-docker" class="md-nav__link">
    Editing Code in Docker
  </a>
  
    <nav class="md-nav" aria-label="Editing Code in Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testing-a-pull-request" class="md-nav__link">
    Testing a Pull Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#updating-isle" class="md-nav__link">
    Updating ISLE
  </a>
  
    <nav class="md-nav" aria-label="Updating ISLE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drupal-updates" class="md-nav__link">
    Drupal Updates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-updates-non-islandora" class="md-nav__link">
    Module Updates (non-Islandora)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-updates-islandora" class="md-nav__link">
    Module Updates (Islandora)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-providers-solr-mariadb-etc" class="md-nav__link">
    Backend Providers (solr, mariadb, etc)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-the-whole-isle-dc-repo" class="md-nav__link">
    Updating the whole isle-dc repo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Islandora/documentation/edit/main/docs/installation/docker-compose.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                
                <h1 id="install-islandora-on-docker-isle">Install Islandora on Docker (ISLE)<a class="headerlink" href="#install-islandora-on-docker-isle" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>This page describes using ISLE-DC to launch Islandora as a suite of Docker Containers (ISLE). This is an alternative to the <a href="../playbook/">Islandora Ansible Playbook</a>, which creates the Islandora stack on a single virtual machine. At the end of this tutorial, you will have a local development environment, and be able to use Docker to launch, shut down, and edit your environment.</p>
<h3 id="what-is-isle">What is ISLE?<a class="headerlink" href="#what-is-isle" title="Permanent link">&para;</a></h3>
<p>ISLE, or ISLandora Enterprise, is a community initiative to ease the installation and maintenance of Islandora by using Docker. It was an initiative of the Islandora Collaboration Group, first using Islandora 7.x, and later with Islandora 8.x. The code for the Islandora Enterprise 8 Prototype (ISLE 8, sometimes just ISLE) is now under the purview of the Islandora Foundation. ISLE may also refer to the <a href="https://islandora-collaboration-group.github.io/ISLE/">ISLE system for Islandora 7</a>.</p>
<h3 id="why-use-docker">Why use Docker?<a class="headerlink" href="#why-use-docker" title="Permanent link">&para;</a></h3>
<p><a href="https://www.docker.com/">Docker</a> is a way to separate out the "state" of your site (i.e. all the content, files, and configurations that you've entered) from the underlying software that runs it (e.g. webserver, database engine, etc). This allows for easier upgrades, faster development, and more flexible deployment.</p>
<h3 id="where-is-isle-8">Where is ISLE 8?<a class="headerlink" href="#where-is-isle-8" title="Permanent link">&para;</a></h3>
<p>ISLE 8 is a suite of Docker containers that run the various components of Islandora required by Islandora Defaults: drupal, fedora, solr, alpaca, crayfish, matomo, etc.  The individual containers are created (and automatically pushed to Docker Hub) by <a href="https://github.com/Islandora-Devops/isle-buildkit">ISLE BuildKit</a>.</p>
<h3 id="how-do-i-install-isle">How do I install ISLE?<a class="headerlink" href="#how-do-i-install-isle" title="Permanent link">&para;</a></h3>
<p>Install ISLE locally or remotely using the Docker Compose scripts (ISLE-DC) at (<a href="https://github.com/Islandora-Devops/isle-dc">Islandora-Devops/isle-dc</a>). These are instructions to pull down and configure the necessary containers from Docker Hub. Unlike the <a href="../playbook/">Islandora Playbook</a>, this method does not require Ansible, or (for local installations) VirtualBox. Like the Playbook, it has been optimized for development environments but in theory could be used in production.</p>
<p>These instructions describe using ISLE-DC locally to create a development Islandora sandbox. More detailed configuration options are described in the project's <a href="https://github.com/Islandora-Devops/isle-dc">README</a>.</p>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<ul>
<li>A computer that can run Docker (version 19.x+) and has at least 8GB of RAM (ideally 16GB)</li>
<li>An administrator account</li>
<li>(Mac OS) Apple Developer Tools</li>
<li>(Windows) The following setup has been tested:<ul>
<li>Windows 10</li>
<li><a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Windows Subsystem for Linux v. 2 (WSL 2)</a></li>
<li>Ubuntu 20.04 running on WSL 2</li>
<li>GNU make, run <code>sudo apt update</code> and <code>sudo apt install make</code> to install</li>
<li>Docker Desktop for Windows, using the WSL 2 based engine (Settings &gt; General) and with the WSL integration active for Ubuntu (Settings &gt; Resources &gt; WSL integration) </li>
</ul>
</li>
<li>If using <code>make local</code>, see the <a href="https://github.com/Islandora-Devops/isle-dc">README</a> for other requirements.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">What are we missing?</p>
<p>Are you, or your computer, new to spinning up development sandboxes? Do you have wisdom about installing make on Windows? We suspect these requirements may be incomplete and your experience would be appreciated at <a href="https://github.com/Islandora/documentation/issues/1640">Issue #1640</a>.</p>
</div>
<h2 id="installing-docker">Installing Docker<a class="headerlink" href="#installing-docker" title="Permanent link">&para;</a></h2>
<p>To see if you have Docker installed, type <code>docker --version</code> in a terminal.</p>
<p>If you need to install Docker, we recommend using the application <a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a>. It provides a GUI for managing Docker container in Windows and MacOS, along with the Docker engine and suite of command-line tools. Linux users don't get a desktop client, but can download the Engine and command-line tools from that same link.</p>
<p>There is also a legacy project called <a href="https://docs.docker.com/toolbox/overview/">Docker Toolbox</a> which may be of interest if your machine cannot run Docker Desktop, or if you already have it installed.</p>
<p><a href="https://www.docker.com/products/docker-desktop">Download Docker</a></p>
<div class="admonition warning">
<p class="admonition-title">Memory, Processors, and Swap Requirements</p>
<p>To run ISLE on Docker Desktop, you must increase the resources allocated to the software. See Docker docs on <a href="https://docs.docker.com/docker-for-windows/#resources">setting resources on Windows</a> (see note on how to allocate/restrict memory when using WSL 2) or <a href="https://docs.docker.com/docker-for-mac/#resources">setting resources on Mac</a>.</p>
<p><strong>CPUs (processors)</strong>: The CPUs allowed to Docker Desktop are still shared with the host machine, so increasing this to the maximum value should allow both the Docker containers and your host machine to run simultaneously.</p>
<p><strong>Memory (RAM)</strong>: This memory is completely dedicated to Docker while Docker Desktop is running, so do not allocate more than you can spare and still run your host machine. Windows users may not require as much memory for Docker as Mac users. Current suggestions for memory allocated to Docker Desktop are below, but please edit this document if you have new information.</p>
<ul>
<li>Sandbox (<code>make demo</code>): 4GB</li>
<li>Development (<code>make local</code>): 8GB</li>
<li>Production or production-like development: 16GB</li>
</ul>
<p><strong>Swap</strong>: Swap space is space borrowed from your hard disk drive to serve as makeshift RAM as needed. If you cannot provide as much RAM as you would like, increase this as is reasonable given your free disk space.</p>
</div>
<h2 id="launching-islandora-with-docker">Launching Islandora with Docker<a class="headerlink" href="#launching-islandora-with-docker" title="Permanent link">&para;</a></h2>
<p><strong>Summary:</strong> Using git, clone the isle-dc project. In that directory, enter the command <code>make demo</code> to build the docker infrastructure and a demo site.  Then use the command <code>docker-compose up -d</code> to start the containers.</p>
<div class="admonition hint">
<p class="admonition-title">ISLE-DC variants: <code>make demo</code> vs <code>make local</code></p>
<p>The <code>make demo</code> command alone will spin up a sandbox-like version of ISLE, but only with a front end. The code files will be inaccessible, and you will not be able to install additional modules or themes. The <code>make local</code> command creates a full-fleged development environment. It will copy the active Drupal codebase locally in a way that is also live to the ISLE site. This method takes longer (and may require multiple retries if your internet connection is spotty) but is required if you will be testing pull requests or writing code. The <code>make</code> command alone will build the infrastructure but not install anything (including Drupal!).</p>
</div>
<pre><code class="language-bash">git clone https://github.com/islandora-devops/isle-dc
cd isle-dc
make demo
</code></pre>
<p>Results of <code>make demo</code>:</p>
<pre><code>isle-dc$ make demo
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  3562  100  3562    0     0  12779      0 --:--:-- --:--:-- --:--:-- 12812
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  1708  100  1708    0     0   6809      0 --:--:-- --:--:-- --:--:--  6832
docker-compose pull
Pulling activemq   ... done
Pulling alpaca     ... done
Pulling blazegraph ... done
Pulling cantaloupe ... done
Pulling fcrepo     ... done
Pulling fits       ... done
Pulling crayfits   ... done
Pulling gemini     ... done
Pulling homarus    ... done
Pulling houdini    ... done
Pulling hypercube  ... done
Pulling mariadb    ... done
Pulling matomo     ... done
Pulling milliner   ... done
Pulling recast     ... done
Pulling solr       ... done
Pulling drupal     ... done
Pulling traefik    ... done
Pulling watchtower ... done
</code></pre>
<div class="admonition fail">
<p class="admonition-title">Troubleshooting - Docker Versions</p>
<p>If you get an error such as: <code>ERROR: Version in "./docker-compose.activemq.yml" is unsupported.</code>, then you need to upgrade Docker. Enter the command <code>make clean</code> before re-attempting to <code>make demo</code>.</p>
</div>
<div class="admonition fail">
<p class="admonition-title">Troubleshooting - re-attempting <code>make demo</code></p>
<p>If <code>make</code> fails for any reason, enter <code>make clean</code> before attempting to <code>make</code> again. If not, you may see an error such as: <code>ERROR: Top level object in './docker-compose.yml' needs to be an object not '&lt;class 'NoneType'&gt;'.</code></p>
</div>
<div class="admonition fail">
<p class="admonition-title">Troubleshooting - docker containers exit without warning</p>
<p>If you notice some Docker containers drop (exited(0)), and (in Docker Desktop) the isle-dc app icon is yellow instead of green, try increasing the resources allocated to Docker (see note above).</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Development version - access the codebase</p>
<p>If you used <code>make local</code>, then you will have a new directory in the current (isle-dc) directory named <code>codebase</code>, containing the live Drupal root folder (containing your Drupal's composer files and the web/ subdirectory).</p>
</div>
<p>Once <code>make demo</code> has successfully completed, launch the ISLE containers using <code>docker-compose up</code>. The <code>-d</code> flag allows you to return to using the command line. Without it, your shell will be stuck in the <code>docker-compose</code> process as long as the containers are running.</p>
<pre><code class="language-bash">docker-compose up -d
</code></pre>
<div class="admonition fail">
<p class="admonition-title">Troubleshooting - connection timed out (Mac).</p>
<p>If you are using Docker Desktop for Mac, and get timeout errors when spinning up the containers (during <code>docker-compose up -d</code> or during <code>make local</code>) such as this:</p>
<p><code>ERROR: for isle-dc_mariadb_1  UnixHTTPConnectionPool(host='localhost', port=None): Read timed out. (read timeout=480)</code></p>
<p>you can try quitting Docker completely (make sure there is no whale icon in your top toolbar - may need to select "Quit" from the whale icon itself) and then restart Docker. </p>
</div>
<h2 id="visiting-your-islandora-site">Visiting your Islandora site<a class="headerlink" href="#visiting-your-islandora-site" title="Permanent link">&para;</a></h2>
<p>Direct a browser to <a href="https://islandora.traefik.me/">https://islandora.traefik.me/</a>. If your containers are still "spinning up", you will see a white screen with the words "Bad Gateway". This often lasts 2-5 minutes, and should be shorter for subsequent launches. If it takes more than a few minutes, check to make sure that none of your containers have failed to launch (see note above on "Troubleshooting - docker containers exit without warning"). When all containers are ready, you should see a basic Drupal login screen.</p>
<p><img alt="&quot;Bad Gateway&quot; white screen while still loading" src="../../assets/docker_bad_gateway_still_loading.png" /></p>
<p><img alt="Drupal login screen" src="../../assets/docker_drupal_login_screen.png" /></p>
<p>To log in:</p>
<ul>
<li>username: <strong>admin</strong></li>
<li>password: <strong>password</strong></li>
</ul>
<div class="admonition note docker logs and docker compose logs">
<p class="admonition-title">Note</p>
<p><code>docker logs -tf isle-dc_drupal_1</code> shows Docker logs for the "drupal" container, which will continue to have new log entries as long as the drupal box is still starting up. When it gets to <code>confd using 'env' backend</code>, you're done. <code>docker-compose logs</code> is like a firehose, showing the log messages from all containers.</p>
</div>
<h2 id="spinning-down-your-islandora-site">Spinning down your Islandora site<a class="headerlink" href="#spinning-down-your-islandora-site" title="Permanent link">&para;</a></h2>
<p>To shut down the containers without destroying your site, use <code>docker-compose down</code>. To also destroy your "state" (i.e. your content, your database, your files), use <code>docker-compose down -v</code>.</p>
<h2 id="editing-code-in-docker">Editing Code in Docker<a class="headerlink" href="#editing-code-in-docker" title="Permanent link">&para;</a></h2>
<p>If you used <code>make local</code> then the drupal root folder is in a new directory in the isle-dc folder named <code>codebase</code>. This is live and editable in whatever development environment you would like.  If you just did <code>make demo</code>, you will need to spin down your containers with <code>-v</code> to destroy your state before starting a new one with <code>make local</code>.</p>
<p>Editing code for the back-end processes (alpaca, milliner, etc) is more complicated. Please ask on the #isle Slack channel and help us improve this documentation!</p>
<h3 id="testing-a-pull-request">Testing a Pull Request<a class="headerlink" href="#testing-a-pull-request" title="Permanent link">&para;</a></h3>
<p>Islandora modules in the <code>codebase/web/contrib/modules</code> folder are already set up with <code>git</code> and the <code>origin</code> remote is the canonical Islandora repository. You can follow the command-line instructions for testing pull requests available on Github. When finished, don't forget to <code>git checkout main</code> (or the default branch if not named main) so you can pull new code.</p>
<h2 id="updating-isle">Updating ISLE<a class="headerlink" href="#updating-isle" title="Permanent link">&para;</a></h2>
<p>Documentation to come - see <a href="https://github.com/Islandora-Devops/isle-dc/issues/121">Issue #121</a></p>
<h3 id="drupal-updates">Drupal Updates<a class="headerlink" href="#drupal-updates" title="Permanent link">&para;</a></h3>
<p>to come</p>
<h3 id="module-updates-non-islandora">Module Updates (non-Islandora)<a class="headerlink" href="#module-updates-non-islandora" title="Permanent link">&para;</a></h3>
<p>to come</p>
<h3 id="module-updates-islandora">Module Updates (Islandora)<a class="headerlink" href="#module-updates-islandora" title="Permanent link">&para;</a></h3>
<p>to come</p>
<h3 id="backend-providers-solr-mariadb-etc">Backend Providers (solr, mariadb, etc)<a class="headerlink" href="#backend-providers-solr-mariadb-etc" title="Permanent link">&para;</a></h3>
<p>to come</p>
<h3 id="updating-the-whole-isle-dc-repo">Updating the whole isle-dc repo<a class="headerlink" href="#updating-the-whole-isle-dc-repo" title="Permanent link">&para;</a></h3>
<p>to come</p>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">March 20, 2021</span>
      
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
            
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../../reference/islandora_defaults_reference/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Islandora Defaults
            </div>
          </div>
        </a>
      
      
        <a href="../playbook/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Ansible Playbook
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <b>This documentation is user-sourced!</b> Suggestions and comments are welcome in our <u><a href="https://github.com/Islandora/documentation/issues" target="_blank">issue queue</a></u>.
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs Insiders
          </a>
        
        
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/islandora" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.df8cae7d.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.0c4ae912.min.js"></script>
      
    
  </body>
</html>